 <!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{user_layout/default}">
<th:block layout:fragment="customContents">


	<div class="col-md-3 left_col plant_pic_sidebar" style="z-index: 2";>
		<ul class="plant_pic_side_ul plnat_pic_side_ul_li_font">
			<li><a><img width="200px;" src="/user/images/plant_pic_logo.png"></a></li>
			<li><a th:href="@{/userPlantPick/plantPickMain}"><img width="30px;" src="/user/images/plant_pic_home.png"></a>홈</li>
			<li><a th:href="@{/userPlantPick/searchPlantPick}"><img width="30px;" src="/user/images/plant_pic_find.png"></a>검색</li>
			<li><a th:href="@{/userPlantpick/profile}"><img width="30px;" src="/user/images/plant_pic_compass.png"></a>프로필 </li>
			<li><a th:href="@{/userPlantPick/addPostPlantPick}"><img width="30px;" src="/user/images/plant_pic_more.png"></a>포스팅</li>
		</ul>
	</div>

	<section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
		<div class="container py-6">
			<div class="row d-flex justify-content-center py-5">
				<div class="col-md-6 d-flex align-items-center">
					<form th:action="@{/userPlantPick/search}" method="post" class="subscribe-form">
						<div class="form-group d-flex">
							<input type="text" class="form-control input-border-not-right" placeholder="ID, 이름으로 검색하세요" id="searchModalBtn">
							
						</div>
						
						<!--  아이디 이름 검색 선택 모달창 -->
	<div class="modal" id="plantpickSearchModal" tabindex="-1">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">아이디 이름을 검색하세요</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-group">
					
				 			<select id="plantpicksearch" class="#">
								<option value="">아이디</option>
								<option value="">이름</option>
							</select>
						</div>
						<!--  모달 추가 내용 -->
						<div class="">
							<div class="input-group">
								<input id="plantpickValue" type="text" class="form-control">
								<span class="input-group_btn">
								<button id="plantpicksearchBtn" type="button" class="btn btn-primary">검색</button>
									</span>
							</div>
						</div>
						
					<div class="row">
               <div class="col-md-12">
                  <h2>회원목록</h2>
                  <div class="">
                     <table class="table table-bordered" style="width: 100%">
                        <thead class="thead-primary">
                           <tr class="text-center">
												<th>#</th>
												<th>아이디</th>
												<th>이름</th>
												<th></th>
											</tr>
											</thead>
											
											<tbody id="plantpicktable">
												<tr>
													<td scope="row">1</td>
													<td class="urbanfarmerFollowerId"></td>
													<td class="urbanfarmerName">3</td>
													<td>4</td>
													<td class="#">
														<button type="button" class="btn btn-success plantpickBtn">선택</button>
													</td>
													
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" id="plantpickChoseBtn" data-dismiss="modal">close</button>
						</div>
					</div>
					</div>
				<!--  선택 모달 끝 -->
	</div>
				
				<div calss="form-grop">
					<div class="col-md-9 col-sm-xs-12 col-md-offset3">
						<button class="btn btn-primary" type="button">돌아가기</button>				
						<button class="btn btn-primary" type="reset">다시쓰기</button>
						<button type="submit" class="btn btn-success sumbitBtn">등록하기</button>				
					</div>
				</div>
					</form>
				</div>
			</div>
		</div>
		
		
	</section>





</th:block>
<th:block layout:fragment="customJs">
	<script>
		$('#searchModalBtn').click(function (){
			$('#plantpickSearchModal').modal('show');
		});
		
		
		$('#plantpickSearchModal').on('show.bs.modal', function(){
            $.ajax({
                url: '/userPlantPick/search',
                type: 'GET',
                contentType: 'application/json',
                success: function(response){
                    console.log(response);
                    response.forEach(function(item, index){
                        const $lastTr = $('#plantpicktable').find('tr').last();
                        $lastTr.find('th').text(index + 1);
                        $lastTr.find('td.urbanfarmerFollowerId').text(item.urbanfarmerFollowerId);
                        $lastTr.find('td.urbanfarmerName').text(item.urbanfarmerName);
                      
                        if(index < response.length - 1){
                            const $cloneTr = $lastTr.clone();
                            $('#kitTable').append($cloneTr);
                        }
                    })
                },
                fail:function(jqXHR, textStatus, errorThrown) {
                    alert('오류가 발생했습니다. ' + textStatus + ': ' + errorThrown);
                }
            })
        });
		
		
		
		
		
		
	</script>
>>>>>>> refs/heads/develop
</th:block>
</html>
